global_arguments:
   aws_default_region: eu-west-2
labels:
   general: 
     environment: dev
     purpose: test
   vehicle:
     car: bmw
     model: 320i
   details:
     app: mysql
     tier: database
infrastructure:
   vpc:
       stack_name: elasticdev:::aws_vpc_and_security_group
       arguments:
         vpc_id: _selector:::app_details::vpc_id
         vpc_name: dev-vpc-eu-west-test
         main_network_block: 10.30.0.0/16
         tier_level: "2"
         enable_nat_gateway: true
         single_nat_gateway: true
         enable_dns_hostnames: true
         reuse_nat_ips: true
         one_nat_gateway_per_az: false
         tags: "mongo,database,stateful"
       labels:
         - general
         - vehicle
         - details
       credentials:
         - reference: aws_2
           orchestration: true
       inputvars:
         - reference: docker_build
           delegation: true
destroy:
   stack_name: elasticdev:::ed_core::callback_delete

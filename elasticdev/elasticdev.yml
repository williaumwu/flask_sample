global_arguments:
   aws_default_region: ap-southeast-1
   vpc_name: sample
infrastructure:
   ssh_upload:
       stack_name: elasticdev:::ec2_ssh_upload
       arguments:
          name: mongodb_ssh
       credentials:
           - reference: aws_2
             orchestration: true
   mongodb_hosts:
       stack_name: elasticdev:::mongodb_replica_on_ec2
       dependencies: 
           - infrastructure::ssh_upload
       arguments:
          size: t3.micro
          ssh_keyname: mongodb_ssh
          security_groups: web
          subnet: private
          disksize: 25
          ip_key: public_ip
       credentials:
           - reference: aws_2
             orchestration: true
destroy:
   stack_name: elasticdev:::ed_core::callback_delete
   arguments:
       pre_delete_resources: True
